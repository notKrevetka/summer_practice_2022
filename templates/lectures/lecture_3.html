{% extends 'lecture_base.html' %}


{% block head %}
<title>Keyboard Shortcuts in the IPython Shell</title>
{% endblock %}


{% block body %}

<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
    <div class="jp-Cell-inputWrapper">
        <div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
        </div>
        <div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt
                jp-InputArea-prompt">
            </div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown
                jp-MarkdownOutput " data-mime-type="text/markdown">
                <h1 id="Keyboard-Shortcuts-in-the-IPython-Shell">Keyboard
                    Shortcuts in the IPython Shell<a class="anchor-link"
                        href="#Keyboard-Shortcuts-in-the-IPython-Shell">&#182;</a></h1>
            </div>
        </div>
    </div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
    <div class="jp-Cell-inputWrapper">
        <div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
        </div>
        <div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt
                jp-InputArea-prompt">
            </div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown
                jp-MarkdownOutput " data-mime-type="text/markdown">
                <p>If you spend any amount of time on the computer, you've
                    probably found a use for keyboard shortcuts in your
                    workflow.
                    Most familiar perhaps are the Cmd-C and Cmd-V (or Ctrl-C and
                    Ctrl-V) for copying and pasting in a wide variety of
                    programs and systems.
                    Power-users tend to go even further: popular text editors
                    like Emacs, Vim, and others provide users an incredible
                    range of operations through intricate combinations of
                    keystrokes.</p>
                <p>The IPython shell doesn't go this far, but does provide a
                    number of keyboard shortcuts for fast navigation while
                    typing commands.
                    These shortcuts are not in fact provided by IPython itself,
                    but through its dependency on the GNU Readline library: as
                    such, some of the following shortcuts may differ depending
                    on your system configuration.
                    Also, while some of these shortcuts do work in the
                    browser-based notebook, this section is primarily about
                    shortcuts in the IPython shell.</p>
                <p>Once you get accustomed to these, they can be very useful for
                    quickly performing certain commands without moving your
                    hands from the "home" keyboard position.
                    If you're an Emacs user or if you have experience with
                    Linux-style shells, the following will be very familiar.
                    We'll group these shortcuts into a few categories: <em>navigation
                        shortcuts</em>, <em>text entry shortcuts</em>, <em>command
                        history shortcuts</em>, and <em>miscellaneous shortcuts</em>.</p>
            </div>
        </div>
    </div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
    <div class="jp-Cell-inputWrapper">
        <div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
        </div>
        <div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt
                jp-InputArea-prompt">
            </div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown
                jp-MarkdownOutput " data-mime-type="text/markdown">
                <h2 id="Navigation-shortcuts">Navigation shortcuts<a
                        class="anchor-link" href="#Navigation-shortcuts">&#182;</a></h2><p>While
                    the use of the left and right arrow keys to move backward
                    and forward in the line is quite obvious, there are other
                    options that don't require moving your hands from the "home"
                    keyboard position:</p>
                <table>
                    <thead><tr>
                            <th>Keystroke</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>Ctrl-a</code></td>
                            <td>Move cursor to the beginning of the line</td>
                        </tr>
                        <tr>
                            <td><code>Ctrl-e</code></td>
                            <td>Move cursor to the end of the line</td>
                        </tr>
                        <tr>
                            <td><code>Ctrl-b</code> or the left arrow key</td>
                            <td>Move cursor back one character</td>
                        </tr>
                        <tr>
                            <td><code>Ctrl-f</code> or the right arrow key</td>
                            <td>Move cursor forward one character</td>
                        </tr>
                    </tbody>
                </table>

            </div>
        </div>
    </div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
    <div class="jp-Cell-inputWrapper">
        <div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
        </div>
        <div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt
                jp-InputArea-prompt">
            </div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown
                jp-MarkdownOutput " data-mime-type="text/markdown">
                <h2 id="Text-Entry-Shortcuts">Text Entry Shortcuts<a
                        class="anchor-link" href="#Text-Entry-Shortcuts">&#182;</a></h2><p>While
                    everyone is familiar with using the Backspace key to delete
                    the previous character, reaching for the key often requires
                    some minor finger gymnastics, and it only deletes a single
                    character at a time.
                    In IPython there are several shortcuts for removing some
                    portion of the text you're typing.
                    The most immediately useful of these are the commands to
                    delete entire lines of text.
                    You'll know these have become second-nature if you find
                    yourself using a combination of Ctrl-b and Ctrl-d instead of
                    reaching for Backspace to delete the previous character!</p>
                <table>
                    <thead><tr>
                            <th>Keystroke</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Backspace key</td>
                            <td>Delete previous character in line</td>
                        </tr>
                        <tr>
                            <td><code>Ctrl-d</code></td>
                            <td>Delete next character in line</td>
                        </tr>
                        <tr>
                            <td><code>Ctrl-k</code></td>
                            <td>Cut text from cursor to end of line</td>
                        </tr>
                        <tr>
                            <td><code>Ctrl-u</code></td>
                            <td>Cut text from beginning of line to cursor</td>
                        </tr>
                        <tr>
                            <td><code>Ctrl-y</code></td>
                            <td>Yank (i.e. paste) text that was previously cut</td>
                        </tr>
                        <tr>
                            <td><code>Ctrl-t</code></td>
                            <td>Transpose (i.e., switch) previous two characters</td>
                        </tr>
                    </tbody>
                </table>

            </div>
        </div>
    </div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
    <div class="jp-Cell-inputWrapper">
        <div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
        </div>
        <div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt
                jp-InputArea-prompt">
            </div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown
                jp-MarkdownOutput " data-mime-type="text/markdown">
                <h2 id="Command-History-Shortcuts">Command History Shortcuts<a
                        class="anchor-link" href="#Command-History-Shortcuts">&#182;</a></h2><p>Perhaps
                    the most impactful shortcuts discussed here are the ones
                    IPython provides for navigating the command history.
                    This command history goes beyond your current IPython
                    session: your entire command history is stored in a SQLite
                    database in your IPython profile directory.
                    The most straightforward way to access these is with the up
                    and down arrow keys to step through the history, but other
                    options exist as well:</p>
                <table>
                    <thead><tr>
                            <th>Keystroke</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>Ctrl-p</code> (or the up arrow key)</td>
                            <td>Access previous command in history</td>
                        </tr>
                        <tr>
                            <td><code>Ctrl-n</code> (or the down arrow key)</td>
                            <td>Access next command in history</td>
                        </tr>
                        <tr>
                            <td><code>Ctrl-r</code></td>
                            <td>Reverse-search through command history</td>
                        </tr>
                    </tbody>
                </table>

            </div>
        </div>
    </div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
    <div class="jp-Cell-inputWrapper">
        <div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
        </div>
        <div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt
                jp-InputArea-prompt">
            </div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown
                jp-MarkdownOutput " data-mime-type="text/markdown">
                <p>The reverse-search can be particularly useful.
                    Recall that in the previous section we defined a function
                    called <code>square</code>.
                    Let's reverse-search our Python history from a new IPython
                    shell and find this definition again.
                    When you press Ctrl-r in the IPython terminal, you'll see
                    the following prompt:</p>
                <div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span>
    <span class="p">(</span><span class="n">reverse</span><span class="o">-</span><span class="n">i</span><span class="o">-</span><span class="n">search</span><span class="p">)</span><span class="err">`</span><span class="s1">&#39;:</span>
    </pre></div>
                <p>If you start typing characters at this prompt, IPython will
                    auto-fill the most recent command, if any, that matches
                    those characters:</p>
                <div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> 
    <span class="p">(</span><span class="n">reverse</span><span class="o">-</span><span class="n">i</span><span class="o">-</span><span class="n">search</span><span class="p">)</span><span class="err">`</span><span class="n">sqa</span><span class="s1">&#39;: square??</span>
    </pre></div>
                <p>At any point, you can add more characters to refine the
                    search, or press Ctrl-r again to search further for another
                    command that matches the query. If you followed along in the
                    previous section, pressing Ctrl-r twice more gives:</p>
                <div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> 
    <span class="p">(</span><span class="n">reverse</span><span class="o">-</span><span class="n">i</span><span class="o">-</span><span class="n">search</span><span class="p">)</span><span class="err">`</span><span class="n">sqa</span><span class="s1">&#39;: def square(a):</span>
        <span class="sd">&quot;&quot;&quot;Return the square of a&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">a</span> <span class="o">**</span> <span class="mi">2</span>
    </pre></div>
                <p>Once you have found the command you're looking for, press
                    Return and the search will end.
                    We can then use the retrieved command, and carry-on with our
                    session:</p>
                <div class="highlight"><pre><span></span><span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="k">def</span> <span class="nf">square</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return the square of a&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">a</span> <span class="o">**</span> <span class="mi">2</span>
    
    <span class="n">In</span> <span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="n">square</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">Out</span><span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="mi">4</span>
    </pre></div>
                <p>Note that Ctrl-p/Ctrl-n or the up/down arrow keys can also be
                    used to search through history, but only by matching
                    characters at the beginning of the line.
                    That is, if you type <strong><code>def</code></strong> and
                    then press Ctrl-p, it would find the most recent command (if
                    any) in your history that begins with the characters <code>def</code>.</p>
            </div>
        </div>
    </div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
    <div class="jp-Cell-inputWrapper">
        <div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
        </div>
        <div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt
                jp-InputArea-prompt">
            </div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown
                jp-MarkdownOutput " data-mime-type="text/markdown">
                <h2 id="Miscellaneous-Shortcuts">Miscellaneous Shortcuts<a
                        class="anchor-link" href="#Miscellaneous-Shortcuts">&#182;</a></h2><p>Finally,
                    there are a few miscellaneous shortcuts that don't fit into
                    any of the preceding categories, but are nevertheless useful
                    to know:</p>
                <table>
                    <thead><tr>
                            <th>Keystroke</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>Ctrl-l</code></td>
                            <td>Clear terminal screen</td>
                        </tr>
                        <tr>
                            <td><code>Ctrl-c</code></td>
                            <td>Interrupt current Python command</td>
                        </tr>
                        <tr>
                            <td><code>Ctrl-d</code></td>
                            <td>Exit IPython session</td>
                        </tr>
                    </tbody>
                </table>
                <p>The Ctrl-c in particular can be useful when you inadvertently
                    start a very long-running job.</p>

            </div>
        </div>
    </div>
</div>
<div class="jp-Cell jp-MarkdownCell jp-Notebook-cell">
    <div class="jp-Cell-inputWrapper">
        <div class="jp-Collapser jp-InputCollapser jp-Cell-inputCollapser">
        </div>
        <div class="jp-InputArea jp-Cell-inputArea"><div class="jp-InputPrompt
                jp-InputArea-prompt">
            </div><div class="jp-RenderedHTMLCommon jp-RenderedMarkdown
                jp-MarkdownOutput " data-mime-type="text/markdown">
                <p>While some of the shortcuts discussed here may seem a bit
                    tedious at first, they quickly become automatic with
                    practice.
                    Once you develop that muscle memory, I suspect you will even
                    find yourself wishing they were available in other contexts.</p>
                {% endblock %}
